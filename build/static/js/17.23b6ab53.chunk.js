(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[17],{122:function(e,s,a){e.exports={changePasswordWrapper:"changePassword_changePasswordWrapper__2P-5g",changePasswordHeader:"changePassword_changePasswordHeader__3UiW0",title:"changePassword_title__1nOde",inputPass:"changePassword_inputPass__24dMX",eyeIcon:"changePassword_eyeIcon__uYlIJ"}},135:function(e,s,a){"use strict";a.r(s);var t=a(6),r=a(9),c=a(5),n=a(0),o=a(3),i=a(122),l=a.n(i),d=a(13),u=a(1);s.default=function(){var e=Object(o.C)(),s=Object(n.useState)(!1),a=Object(c.a)(s,2),i=a[0],p=a[1],j=Object(n.useState)(""),b=Object(c.a)(j,2),h=b[0],m=b[1],w=Object(n.useState)(!1),f=Object(c.a)(w,2),O=f[0],g=f[1],x=Object(n.useState)(""),y=Object(c.a)(x,2),v=y[0],P=y[1],N=Object(n.useState)(!1),k=Object(c.a)(N,2),_=k[0],S=k[1],C=Object(n.useState)(!1),I=Object(c.a)(C,2),T=I[0],E=I[1],D=Object(n.useRef)(),M=Object(n.useRef)(),F=Object(n.useContext)(d.b),H=(F.getUserData().passwordHash,Object(n.useState)("")),J=Object(c.a)(H,2),L=(J[0],J[1],F.getUserData()),U=F.token,W=F.displayName,Y=F.emailVerified;console.log("userData",L);var z=function(e,s){return/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/.test(e,s)},A=function(){S(!_);var e=document.getElementById("password1");"password"===e.type?e.type="text":"text"===e.type&&(e.type="password")},B=function(){E(!T);var e=document.getElementById("password2");"password"===e.type?e.type="text":"text"===e.type&&(e.type="password")},R=function(){var e=Object(r.a)(Object(t.a)().mark((function e(s,a){var r,c;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s,{method:"POST",body:JSON.stringify({idToken:U,password:a,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 3:if(r=e.sent,console.log("Change Password response",r),r.ok){e.next=9;break}throw p(!0),g(!1),new Error("Password change failed! Please try again");case 9:return e.next=11,r.json();case 11:if(c=e.sent){e.next=18;break}throw p(!0),g(!1),new Error("Password change failed! Please try again");case 18:if(!c.error){e.next=24;break}throw p(!0),g(!1),new Error(c.error.message);case 24:g(!0),P("Password changed successfully!"),p(!1),F.login(c.idToken,c.email,W,Y);case 28:e.next=36;break;case 30:e.prev=30,e.t0=e.catch(0),console.log(e.t0),p(!0),m(e.t0.message),g(!1);case 36:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(s,a){return e.apply(this,arguments)}}(),X=function(){var s=Object(r.a)(Object(t.a)().mark((function s(a){var r,c;return Object(t.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a.preventDefault(),r=D.current.value,c=M.current.value,r===c){s.next=10;break}return p(!0),g(!1),m("Passwords do not match"),s.abrupt("return");case 10:if(z(D.current.value,M.current.value)){s.next=16;break}return p(!0),m("The password must contain at least 8 characters, including at least one uppercase letter, one lowercase letter, one number, and one special character"),s.abrupt("return");case 16:p(!1),g(!0),P("Password changed successfully");case 19:return s.next=21,R("https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDNDXcfx6jpm5Y_121TikxsU7-Yx2ZrmeQ",r);case 21:F.logout(),setTimeout((function(){e("/login")}),2e3),D.current.value="",M.current.value="";case 25:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(u.jsx)("div",{className:l.a.changePasswordWrapper,children:Object(u.jsxs)("div",{className:l.a.changePasswordContainer,children:[Object(u.jsxs)("div",{className:l.a.changePasswordHeader,children:[Object(u.jsx)("h1",{className:l.a.title,children:"Change Password"}),Object(u.jsx)("p",{className:"clarify",children:"Your new password must be different from your previous used password"})]}),Object(u.jsxs)("form",{onSubmit:X,children:[Object(u.jsxs)("div",{className:"formControl",children:[Object(u.jsx)("label",{className:"inputLabel",htmlFor:"password1",children:"New Password"}),Object(u.jsxs)("div",{className:l.a.inputPass,children:[Object(u.jsx)("input",{className:"inputField",type:"password",id:"password1",ref:D}),_&&Object(u.jsx)("i",{onClick:A,className:"fa-solid fa-eye ".concat(l.a.eyeIcon)}),!_&&Object(u.jsx)("i",{onClick:A,className:"fa-solid fa-eye-slash  ".concat(l.a.eyeIcon)})]})]}),Object(u.jsxs)("div",{className:"formControl",children:[Object(u.jsx)("label",{className:"inputLabel",htmlFor:"password2",children:"Confirm New Password"}),Object(u.jsxs)("div",{className:l.a.inputPass,children:[Object(u.jsx)("input",{className:"inputField",type:"password",id:"password2",ref:M}),T&&Object(u.jsx)("i",{onClick:B,className:"fa-solid fa-eye ".concat(l.a.eyeIcon)}),!T&&Object(u.jsx)("i",{onClick:B,className:"fa-solid fa-eye-slash  ".concat(l.a.eyeIcon)}),Object(u.jsx)("span",{className:"span-clarify",children:"Minimum eight characters, at least one upper case English letter, one lower case English letter, one number and one special character."})]})]}),i&&Object(u.jsx)("div",{className:"errorMessage",children:Object(u.jsx)("ul",{className:"errorMsgList",children:Object(u.jsxs)("li",{children:[" ",h," "]})})}),O&&Object(u.jsx)("div",{className:"successMessage",children:Object(u.jsx)("ul",{className:"successMsgList",children:Object(u.jsxs)("li",{children:[" ",v," "]})})}),Object(u.jsx)("button",{className:"btnSubmit",children:"Submit"})]})]})})}}}]);
//# sourceMappingURL=17.23b6ab53.chunk.js.map